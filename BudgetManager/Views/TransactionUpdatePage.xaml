<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:BudgetManager.ViewModels"
             x:Class="BudgetManager.Views.TransactionUpdatePage"
             Title="Edit Daily Cost">
    
    <Grid Style="{StaticResource PageBody}">
        <VerticalStackLayout Padding="20" Spacing="15">
            <Grid ColumnDefinitions="80,*" ColumnSpacing="20">
                <Label VerticalOptions="Center" Text="Amount" FontSize="16" />
                <Entry Grid.Column="1" Placeholder="Enter amount" Keyboard="Numeric" Text="{Binding Amount}" />
            </Grid>

            <Grid ColumnDefinitions="80,*" ColumnSpacing="20">
                <Label VerticalOptions="Center" Text="Category" FontSize="16" />
                <Picker Grid.Column="1" Title="Select"
                    ItemsSource="{Binding Categories}"
                    ItemDisplayBinding="{Binding DisplayName}"
                    SelectedItem="{Binding SelectedCategory}" />
            </Grid>

            <Grid ColumnDefinitions="80,*" ColumnSpacing="20">
                <Label VerticalOptions="Center" Text="Date" FontSize="16" />
                <DatePicker Grid.Column="1" Date="{Binding SelectedDate}" 
                    Format="D"
                    MinimumDate="01/01/2020"
                    MaximumDate="12/31/2030" />
            </Grid>

            <Grid ColumnDefinitions="80,*" ColumnSpacing="20">
                <Label VerticalOptions="Center" Text="Note" FontSize="16" />
                <Editor Grid.Column="1" Text="{Binding Note}" 
                    Placeholder="Type note" 
                    PlaceholderColor="{StaticResource TextSecondary}"
                    TextColor="{StaticResource TextPrimary}"
                    AutoSize="TextChanges" 
                    HeightRequest="80"/>
            </Grid>
            
            <Grid ColumnDefinitions="*,*" ColumnSpacing="10" Margin="0,20,0,0">
                <Button Grid.Column="0" 
                    Text="Delete" 
                    Command="{Binding DeleteCommand}"
                    BackgroundColor="#FF4444"
                    TextColor="White" />
                <Button Grid.Column="1" 
                    Text="Save" 
                    Command="{Binding UpdateCommand}" />
            </Grid>
        </VerticalStackLayout>
    </Grid>
</ContentPage>
